<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Input Studio ¬∑ Personal Finance Manager</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <script src="https://cdn.plot.ly/plotly-2.25.2.min.js"></script>
</head>
<body class="theme-dark alt-page">
  <nav class="top-nav">
    <div class="brand-mini">
      <span class="logo">‚Çπ</span>
      <h1>Personal Finance Manager</h1>
    </div>
    <a class="nav-link" href="/">üìä Dashboard</a>
  </nav>
  
  <main class="input-container">
    <section class="input-hero">
      <div class="hero-content">
        <p class="eyebrow">Input Studio</p>
        <h2>Comprehensive Financial Analysis</h2>
        <p class="description">Enter your complete financial profile to receive personalized insights, expense breakdowns, and actionable recommendations. All fields with <span class="required-indicator">*</span> are required.</p>
      </div>
    </section>

    <div class="content-wrapper">
      <section class="form-section">
        <form id="input-form" class="modern-form" autocomplete="off">
          <!-- Basic Information -->
          <div class="form-section-header">
            <h3>üë§ Basic Information</h3>
            <p class="section-description">Enter your personal and financial profile</p>
          </div>
          
          <div class="form-row">
            <div class="form-field">
              <label title="Your total monthly income before taxes and deductions">
                Monthly Income (‚Çπ) <span class="required">*</span>
              </label>
              <input type="number" name="Income" step="100" value="60000" required placeholder="60,000">
              <span class="field-hint">Your gross monthly salary or income</span>
            </div>
            
            <div class="form-field">
              <label title="Your current age in years">
                Age <span class="required">*</span>
              </label>
              <input type="number" name="Age" step="1" min="18" max="100" value="30" required placeholder="30">
              <span class="field-hint">Must be 18 or above</span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label title="Number of people financially dependent on you">
                Dependents <span class="required">*</span>
              </label>
              <input type="number" name="Dependents" step="1" min="0" max="10" value="1" required placeholder="2">
              <span class="field-hint">Spouse, children, parents, etc.</span>
            </div>
            
            <div class="form-field">
              <label title="Percentage of income you want to save monthly">
                Desired Savings % <span class="required">*</span>
              </label>
              <input type="number" name="Desired_Savings_Percentage" step="0.5" min="0" max="100" value="15" required placeholder="15">
              <span class="field-hint">Recommended: 15-20%</span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label title="Your primary occupation or employment status">
                Occupation <span class="required">*</span>
              </label>
              <select name="Occupation" id="occupation-select-alt" required>
                <option value="" disabled selected>Select your occupation</option>
              </select>
            </div>
            
            <div class="form-field">
              <label title="Metropolitan classification of your city">
                City Tier <span class="required">*</span>
              </label>
              <select name="City_Tier" id="city-select-alt" required>
                <option value="" disabled selected>Select city tier</option>
              </select>
              <span class="field-hint">Tier 1: Metro cities</span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field full-width">
              <label title="Sum of all your monthly expenses">
                Total Monthly Expenses (‚Çπ) <span class="required">*</span>
              </label>
              <input type="number" name="Total_Expenses" step="100" min="0" value="25000" required placeholder="25,000">
              <span class="field-hint">Sum of rent, utilities, food, transport, etc. (auto-calculated if you fill breakdown below)</span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-field full-width">
              <label title="Auto-calculated: Income minus Total Expenses">
                Disposable Income (‚Çπ) <span class="muted small">(Auto)</span>
              </label>
              <input type="number" name="Disposable_Income" step="100" min="0" value="35000" required placeholder="Auto-calculated" readonly>
              <span class="field-hint">Automatically calculated: Income - Total Expenses</span>
            </div>
          </div>

          <!-- Expense Breakdown -->
          <div class="divider"></div>
          
          <details class="expense-accordion" open>
            <summary class="accordion-header">
              <div>
                <h3>üí≥ Detailed Expense Breakdown</h3>
                <p class="section-description">Optional but recommended for accurate recommendations</p>
              </div>
              <span class="toggle-icon">‚ñº</span>
            </summary>
            
            <div class="accordion-content">
              <div class="expense-category-section">
                <h4>üè† Housing & Utilities</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label title="Monthly rent or mortgage payment">Rent (‚Çπ)</label>
                    <input type="number" name="Rent" step="100" min="0" value="0" placeholder="10,000">
                  </div>
                  <div class="form-field">
                    <label title="Electricity, water, gas, internet">Utilities (‚Çπ)</label>
                    <input type="number" name="Utilities" step="100" min="0" value="0" placeholder="2,500">
                  </div>
                </div>
              </div>

              <div class="expense-category-section">
                <h4>üõ°Ô∏è Financial Obligations</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label title="EMI for home, car, personal loans">Loan Repayment (‚Çπ)</label>
                    <input type="number" name="Loan_Repayment" step="100" min="0" value="0" placeholder="5,000">
                  </div>
                  <div class="form-field">
                    <label title="Health, life, vehicle insurance">Insurance (‚Çπ)</label>
                    <input type="number" name="Insurance" step="100" min="0" value="0" placeholder="2,000">
                  </div>
                </div>
              </div>

              <div class="expense-category-section">
                <h4>üçΩÔ∏è Food & Dining</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label title="Monthly grocery shopping">Groceries (‚Çπ)</label>
                    <input type="number" name="Groceries" step="100" min="0" value="0" placeholder="6,000">
                  </div>
                  <div class="form-field">
                    <label title="Restaurants, food delivery">Eating Out (‚Çπ)</label>
                    <input type="number" name="Eating_Out" step="100" min="0" value="0" placeholder="2,000">
                  </div>
                </div>
              </div>

              <div class="expense-category-section">
                <h4>üöó Transportation & Entertainment</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label title="Fuel, public transport, parking">Transport (‚Çπ)</label>
                    <input type="number" name="Transport" step="100" min="0" value="0" placeholder="3,000">
                  </div>
                  <div class="form-field">
                    <label title="Movies, subscriptions, hobbies">Entertainment (‚Çπ)</label>
                    <input type="number" name="Entertainment" step="100" min="0" value="0" placeholder="1,500">
                  </div>
                </div>
              </div>

              <div class="expense-category-section">
                <h4>‚ù§Ô∏è Health & Education</h4>
                <div class="form-row">
                  <div class="form-field">
                    <label title="Medical, medicines, checkups">Healthcare (‚Çπ)</label>
                    <input type="number" name="Healthcare" step="100" min="0" value="0" placeholder="1,500">
                  </div>
                  <div class="form-field">
                    <label title="Tuition, courses, training">Education (‚Çπ)</label>
                    <input type="number" name="Education" step="100" min="0" value="0" placeholder="3,000">
                  </div>
                </div>
              </div>

              <div class="expense-category-section">
                <h4>üìù Other Expenses</h4>
                <div class="form-row">
                  <div class="form-field full-width">
                    <label title="Other expenses not categorized above">Miscellaneous (‚Çπ)</label>
                    <input type="number" name="Miscellaneous" step="100" min="0" value="0" placeholder="1,000">
                  </div>
                </div>
              </div>
            </div>
          </details>

          <div class="form-actions-sticky">
            <button type="submit" class="primary-large">
              ‚ú®
              Generate Analysis
            </button>
            <button type="reset" class="secondary">
              üîÑ
              Reset Form
            </button>
          </div>
        </form>
      </section>

      <aside class="results-section">
        <div class="results-sticky">
          <h3>üìà Your Financial Analysis</h3>
          
          <div id="prediction-result-alt" class="prediction-output">
            <div class="empty-state">
              üìã
              <p>Submit the form to generate your personalized financial analysis</p>
              <span class="muted">Analysis includes savings predictions, risk assessment, and actionable recommendations</span>
            </div>
          </div>
          <div id="notebook-runtime-alt" class="muted" style="margin-top: 12px; font-size: 0.85rem; text-align: center;"></div>

          <div id="expense-breakdown-alt" class="expense-breakdown" style="display: none;">
            <h4>üìä Category Analysis</h4>
            <div id="expense-categories-alt"></div>
          </div>

          <div id="recommendations-alt" class="recommendations-panel" style="display: none;">
            <h4>üí° Recommendations</h4>
            <ul id="recommendations-list-alt"></ul>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <script src="{{ url_for('static', filename='js/script.js') }}?v=3" defer></script>
</body>
</html>
